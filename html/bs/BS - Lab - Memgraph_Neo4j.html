<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="mobile-web-app-capable" content="yes">
    <title>
        BS - Lab - Memgraph/Neo4j - CodiMD
    </title>
    <link rel="icon" type="image/png" href="http://localhost:3000/favicon.png">
    <link rel="apple-touch-icon" href="http://localhost:3000/apple-touch-icon.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.0/css/bootstrap.min.css" integrity="sha256-H0KfTigpUV+0/5tn2HXC0CPwhhDhWgSawJdnFd0CGCo=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fork-awesome/1.1.3/css/fork-awesome.min.css" integrity="sha256-ZhApazu+kejqTYhMF+1DzNKjIzP7KXu6AzyXcC1gMus=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css" integrity="sha256-3iu9jgsy9TpTwXKb7bNQzqWekRX7pPK+2OLj3R922fo=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.1/themes/prism.min.css" integrity="sha256-vtR0hSWRc3Tb26iuN2oZHt3KRUomwTufNIf5/4oeCyg=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github-gist.min.css" integrity="sha256-tAflq+ymku3Khs+I/WcAneIlafYgDiOQ9stIHH985Wo=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@hackmd/emojify.js@2.1.0/dist/css/basic/emojify.min.css" integrity="sha256-UOrvMOsSDSrW6szVLe8ZDZezBxh5IoIfgTwdNDgTjiU=" crossorigin="anonymous" />
    <style>
        @import url(https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400italic,600,600italic,300italic,300|Source+Serif+Pro|Source+Code+Pro:400,300,500&subset=latin,latin-ext);.markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body:after,.markdown-body:before{display:table;content:""}.markdown-body:after{clear:both}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body .absent{color:#c00}.markdown-body .anchor{float:left;padding-right:4px;margin-left:-20px;line-height:1}.markdown-body .anchor:focus{outline:none}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body hr{height:.25em;padding:0;margin:24px 0;background-color:#e7e7e7;border:0}.markdown-body blockquote{padding:0 1em;color:#777;border-left:.25em solid #ddd}.night .markdown-body blockquote{color:#bcbcbc}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body .loweralpha{list-style-type:lower-alpha}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.night .markdown-body h1,.night .markdown-body h2,.night .markdown-body h3,.night .markdown-body h4,.night .markdown-body h5,.night .markdown-body h6{color:#ddd}.markdown-body h1 .fa-link,.markdown-body h2 .fa-link,.markdown-body h3 .fa-link,.markdown-body h4 .fa-link,.markdown-body h5 .fa-link,.markdown-body h6 .fa-link{color:#000;vertical-align:middle;visibility:hidden;font-size:16px}.night .markdown-body h1 .fa-link,.night .markdown-body h2 .fa-link,.night .markdown-body h3 .fa-link,.night .markdown-body h4 .fa-link,.night .markdown-body h5 .fa-link,.night .markdown-body h6 .fa-link{color:#fff}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .fa-link,.markdown-body h2:hover .anchor .fa-link,.markdown-body h3:hover .anchor .fa-link,.markdown-body h4:hover .anchor .fa-link,.markdown-body h5:hover .anchor .fa-link,.markdown-body h6:hover .anchor .fa-link{visibility:visible}.markdown-body h1 code,.markdown-body h1 tt,.markdown-body h2 code,.markdown-body h2 tt,.markdown-body h3 code,.markdown-body h3 tt,.markdown-body h4 code,.markdown-body h4 tt,.markdown-body h5 code,.markdown-body h5 tt,.markdown-body h6 code,.markdown-body h6 tt{font-size:inherit}.markdown-body h1{font-size:2em}.markdown-body h1,.markdown-body h2{padding-bottom:.3em;border-bottom:1px solid #eee}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{font-size:.85em;color:#777}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol.no-list,.markdown-body ul.no-list{padding:0;list-style-type:none}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body li>p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table{display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}.markdown-body table th{font-weight:700}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #ddd}.markdown-body table tr{background-color:#fff;border-top:1px solid #ccc}.night .markdown-body table tr{background-color:#5f5f5f}.markdown-body table tr:nth-child(2n){background-color:#f8f8f8}.night .markdown-body table tr:nth-child(2n){background-color:#4f4f4f}.markdown-body img{max-width:100%;box-sizing:content-box;background-color:#fff}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body .emoji{max-width:none;vertical-align:text-top;background-color:transparent}.markdown-body span.frame{display:block;overflow:hidden}.markdown-body span.frame>span{display:block;float:left;width:auto;padding:7px;margin:13px 0 0;overflow:hidden;border:1px solid #ddd}.markdown-body span.frame span img{display:block;float:left}.markdown-body span.frame span span{display:block;padding:5px 0 0;clear:both;color:#333}.markdown-body span.align-center{display:block;overflow:hidden;clear:both}.markdown-body span.align-center>span{display:block;margin:13px auto 0;overflow:hidden;text-align:center}.markdown-body span.align-center span img{margin:0 auto;text-align:center}.markdown-body span.align-right{display:block;overflow:hidden;clear:both}.markdown-body span.align-right>span{display:block;margin:13px 0 0;overflow:hidden;text-align:right}.markdown-body span.align-right span img{margin:0;text-align:right}.markdown-body span.float-left{display:block;float:left;margin-right:13px;overflow:hidden}.markdown-body span.float-left span{margin:13px 0 0}.markdown-body span.float-right{display:block;float:right;margin-left:13px;overflow:hidden}.markdown-body span.float-right>span{display:block;margin:13px auto 0;overflow:hidden;text-align:right}.markdown-body code,.markdown-body tt{padding:.2em 0;margin:0;font-size:85%;background-color:rgba(0,0,0,.04);border-radius:3px}.night .markdown-body code,.night .markdown-body tt{color:#eee;background-color:hsla(0,0%,90.2%,.36)}.markdown-body code:after,.markdown-body code:before,.markdown-body tt:after,.markdown-body tt:before{letter-spacing:-.2em;content:"\A0"}.markdown-body code br,.markdown-body tt br{display:none}.markdown-body del code{text-decoration:inherit}.markdown-body pre{word-wrap:normal}.markdown-body pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:transparent;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f7f7f7;border-radius:3px}.markdown-body pre code,.markdown-body pre tt{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}.markdown-body pre code:after,.markdown-body pre code:before,.markdown-body pre tt:after,.markdown-body pre tt:before{content:normal}.markdown-body .csv-data td,.markdown-body .csv-data th{padding:5px;overflow:hidden;font-size:12px;line-height:1;text-align:left;white-space:nowrap}.markdown-body .csv-data .blob-line-num{padding:10px 8px 9px;text-align:right;background:#fff;border:0}.markdown-body .csv-data tr{border-top:0}.markdown-body .csv-data th{font-weight:700;background:#f8f8f8;border-top:0}.markdown-body kbd{display:inline-block;padding:3px 5px;font-size:11px;line-height:10px;color:#555;vertical-align:middle;background-color:#fcfcfc;border:1px solid;border-color:#ccc #ccc #bbb;border-radius:3px;box-shadow:inset 0 -1px 0 #bbb}.news .alert .markdown-body blockquote{padding:0 0 0 40px;border:0}.activity-tab .news .alert .commits,.activity-tab .news .markdown-body blockquote{padding-left:0}.task-list-item{list-style-type:none}.task-list-item label{font-weight:400}.task-list-item.enabled label{cursor:pointer}.task-list-item+.task-list-item{margin-top:3px}.task-list-item-checkbox{float:left;margin:.31em 0 .2em -1.3em!important;vertical-align:middle;cursor:default!important}.markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;padding-top:40px;padding-bottom:40px;max-width:758px;overflow:visible!important}.markdown-body pre{border:inherit!important}.night .markdown-body pre{filter:invert(100%)}.markdown-body code{color:inherit!important}.markdown-body pre code .wrapper{display:-webkit-inline-flex;display:-moz-inline-flex;display:-ms-inline-flex;display:-o-inline-flex;display:inline-flex}.markdown-body pre code .gutter{float:left;overflow:hidden;-webkit-user-select:none;user-select:none}.markdown-body pre code .gutter.linenumber{text-align:right;position:relative;display:inline-block;cursor:default;z-index:4;padding:0 8px 0 0;min-width:20px;box-sizing:content-box;color:#afafaf!important;border-right:3px solid #6ce26c!important}.markdown-body pre code .gutter.linenumber>span:before{content:attr(data-linenumber)}.markdown-body pre code .code{float:left;margin:0 0 0 16px}.markdown-body .gist .line-numbers{border-left:none;border-top:none;border-bottom:none}.markdown-body .gist .line-data{border:none}.markdown-body .gist table{border-spacing:0;border-collapse:inherit!important}.night .markdown-body .gist table tr:nth-child(2n){background-color:#ddd}.markdown-body code[data-gist-id]{background:none;padding:0;filter:invert(100%)}.markdown-body code[data-gist-id]:after,.markdown-body code[data-gist-id]:before{content:""}.markdown-body code[data-gist-id] .blob-num{border:unset}.markdown-body code[data-gist-id] table{overflow:unset;margin-bottom:unset}.markdown-body code[data-gist-id] table tr{background:unset}.markdown-body[dir=rtl] pre{direction:ltr}.markdown-body[dir=rtl] code{direction:ltr;unicode-bidi:embed}.markdown-body .alert>p{margin-bottom:0}.markdown-body pre.abc,.markdown-body pre.flow-chart,.markdown-body pre.geo,.markdown-body pre.graphviz,.markdown-body pre.mermaid,.markdown-body pre.sequence-diagram,.markdown-body pre.vega{text-align:center;background-color:inherit;border-radius:0;white-space:inherit}.night .markdown-body pre.graphviz .graph>polygon{fill:#333}.night .markdown-body pre.mermaid .sectionTitle,.night .markdown-body pre.mermaid .titleText,.night .markdown-body pre.mermaid text{fill:#fff}.markdown-body pre.abc>code,.markdown-body pre.flow-chart>code,.markdown-body pre.graphviz>code,.markdown-body pre.mermaid>code,.markdown-body pre.sequence-diagram>code,.markdown-body pre.vega>code{text-align:left}.markdown-body pre.abc>svg,.markdown-body pre.flow-chart>svg,.markdown-body pre.graphviz>svg,.markdown-body pre.mermaid>svg,.markdown-body pre.sequence-diagram>svg,.markdown-body pre.vega>svg{max-width:100%;height:100%}.night .markdown-body .abc path{fill:#eee}.night .markdown-body .abc path.note_selected{fill:##4DD0E1}.night tspan{fill:#fefefe}.night pre rect{fill:transparent}.night pre.flow-chart path,.night pre.flow-chart rect{stroke:#fff}.markdown-body pre>code.wrap{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}.markdown-body .alert>p,.markdown-body .alert>ul{margin-bottom:0}.markdown-body summary{display:list-item}.markdown-body summary:focus{outline:none}.markdown-body details summary{cursor:pointer}.markdown-body details:not([open])>:not(summary){display:none}.markdown-body figure{margin:1em 40px}.markdown-body img{background-color:transparent}.vimeo,.youtube{cursor:pointer;display:table;text-align:center;background-position:50%;background-repeat:no-repeat;background-size:contain;background-color:#000;overflow:hidden}.vimeo,.youtube{position:relative;width:100%}.youtube{padding-bottom:56.25%}.vimeo img{width:100%;object-fit:contain;z-index:0}.youtube img{object-fit:cover;z-index:0}.vimeo iframe,.youtube iframe,.youtube img{width:100%;height:100%;position:absolute;top:0;left:0}.vimeo iframe,.youtube iframe{vertical-align:middle;z-index:1}.vimeo .icon,.youtube .icon{position:absolute;height:auto;width:auto;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;opacity:.3;-webkit-transition:opacity .2s;transition:opacity .2s;z-index:0}.vimeo:hover .icon,.youtube:hover .icon{opacity:.6;-webkit-transition:opacity .2s;transition:opacity .2s}.slideshare .inner,.speakerdeck .inner{position:relative;width:100%}.slideshare .inner iframe,.speakerdeck .inner iframe{position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%}.geo-map{width:100%;height:250px}.markmap-container{height:300px}.markmap-container>svg{width:100%;height:100%}.MJX_Assistive_MathML{display:none}.ui-infobar{position:relative;z-index:2;max-width:758px;margin-top:25px;margin-bottom:-25px;color:#777}.toc .invisable-node{list-style-type:none}.ui-toc{position:fixed;bottom:20px;z-index:10000}.ui-toc-label{opacity:.9;background-color:#ccc;border:none}.ui-toc-label,.ui-toc .open .ui-toc-label{-webkit-transition:opacity .2s;transition:opacity .2s}.ui-toc .open .ui-toc-label{opacity:1;color:#5f5f5f}.ui-toc-label:focus{opacity:1;background-color:#ccc;color:#000}.ui-toc-label:hover{opacity:1;background-color:#ccc;-webkit-transition:opacity .2s;transition:opacity .2s}.ui-toc-dropdown{margin-top:23px;margin-bottom:20px;padding-left:10px;padding-right:10px;max-width:45vw;width:25vw;max-height:70vh;overflow:auto;text-align:inherit}.ui-toc-dropdown>.toc{max-height:calc(70vh - 100px);overflow:auto}.ui-toc-dropdown[dir=rtl] .nav{padding-right:0;letter-spacing:.0029em}.ui-toc-dropdown a{overflow:hidden;text-overflow:ellipsis;white-space:pre}.ui-toc-dropdown .nav>li>a{display:block;padding:4px 20px;font-size:13px;font-weight:500;color:#767676}.ui-toc-dropdown .nav>li:first-child:last-child>ul,.ui-toc-dropdown .toc.expand ul{display:block}.ui-toc-dropdown .nav>li>a:focus,.ui-toc-dropdown .nav>li>a:hover{padding-left:19px;color:#000;text-decoration:none;background-color:transparent;border-left:1px solid #000}.night .ui-toc-dropdown .nav>li>a:focus,.night .ui-toc-dropdown .nav>li>a:hover{color:#fff;border-left-color:#fff}.ui-toc-dropdown[dir=rtl] .nav>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav>li>a:hover{padding-right:19px;border-left:none;border-right:1px solid #000}.ui-toc-dropdown .nav>.active:focus>a,.ui-toc-dropdown .nav>.active:hover>a,.ui-toc-dropdown .nav>.active>a{padding-left:18px;font-weight:700;color:#000;background-color:transparent;border-left:2px solid #000}.night .ui-toc-dropdown .nav>.active:focus>a,.night .ui-toc-dropdown .nav>.active:hover>a,.night .ui-toc-dropdown .nav>.active>a{color:#fff;border-left:2px solid #fff}.ui-toc-dropdown[dir=rtl] .nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav>.active>a{padding-right:18px;border-left:none;border-right:2px solid #000}.ui-toc-dropdown .nav .nav{display:none;padding-bottom:10px}.ui-toc-dropdown .nav>.active>ul{display:block}.ui-toc-dropdown .nav .nav>li>a{padding-top:1px;padding-bottom:1px;padding-left:30px;font-size:12px;font-weight:400}.night .ui-toc-dropdown .nav>li>a{color:#aaa}.ui-toc-dropdown[dir=rtl] .nav .nav>li>a{padding-right:30px}.ui-toc-dropdown .nav .nav>li>ul>li>a{padding-top:1px;padding-bottom:1px;padding-left:40px;font-size:12px;font-weight:400}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a{padding-right:40px}.ui-toc-dropdown .nav .nav>li>ul>li>ul>li>a{padding-top:1px;padding-bottom:1px;padding-left:50px;font-size:12px;font-weight:400}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>ul>li>a{padding-right:50px}.ui-toc-dropdown .nav .nav>li>ul>li>ul>li>ul>li>a{padding-top:1px;padding-bottom:1px;padding-left:60px;font-size:12px;font-weight:400}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>ul>li>ul>li>a{padding-right:60px}.ui-toc-dropdown .nav .nav>li>a:focus,.ui-toc-dropdown .nav .nav>li>a:hover{padding-left:29px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>a:hover{padding-right:29px}.ui-toc-dropdown .nav .nav>li>ul>li>a:focus,.ui-toc-dropdown .nav .nav>li>ul>li>a:hover{padding-left:39px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a:hover{padding-right:39px}.ui-toc-dropdown .nav .nav>li>ul>li>ul>li>a:focus,.ui-toc-dropdown .nav .nav>li>ul>li>ul>li>a:hover{padding-left:49px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>ul>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>ul>li>a:hover{padding-right:49px}.ui-toc-dropdown .nav .nav>li>ul>li>ul>li>ul>li>a:focus,.ui-toc-dropdown .nav .nav>li>ul>li>ul>li>ul>li>a:hover{padding-left:59px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>ul>li>ul>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>ul>li>ul>li>a:hover{padding-right:59px}.ui-toc-dropdown .nav .nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>a{padding-left:28px;font-weight:500}.ui-toc-dropdown[dir=rtl] .nav .nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>a{padding-right:28px}.ui-toc-dropdown .nav .nav>.active>.nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active>a{padding-left:38px;font-weight:500}.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active>a{padding-right:38px}.ui-toc-dropdown .nav .nav>.active>.nav>.active>.nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active>.nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active>.nav>.active>a{padding-left:48px;font-weight:500}.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.active>.nav>.nav>.active>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active>.nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active>.nav>.active:hover>a{padding-right:48px}.ui-toc-dropdown .nav .nav>.active>.nav>.active>.nav>.active>.nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active>.nav>.active>.nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active>.nav>.active>.nav>.active>a{padding-left:58px;font-weight:500}.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.active>.nav>.nav>.active>.nav>.active>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active>.nav>.active>.nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active>.nav>.active>.nav>.active:hover>a{padding-right:58px}.markdown-body[lang^=ja]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Arial,Hiragino Kaku Gothic Pro,"\30D2\30E9\30AE\30CE\89D2\30B4   Pro W3",Osaka,Meiryo,"\30E1\30A4\30EA\30AA",MS Gothic,"\FF2D\FF33   \30B4\30B7\30C3\30AF",sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}.ui-toc-dropdown[lang^=ja]{font-family:Source Sans Pro,Helvetica,Arial,Meiryo UI,MS PGothic,"\FF2D\FF33   \FF30\30B4\30B7\30C3\30AF",sans-serif}.markdown-body[lang=zh-tw]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Arial,PingFang TC,Microsoft JhengHei,"\5FAE\8EDF\6B63\9ED1",sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}.ui-toc-dropdown[lang=zh-tw]{font-family:Source Sans Pro,Helvetica,Arial,Microsoft JhengHei UI,"\5FAE\8EDF\6B63\9ED1UI",sans-serif}.markdown-body[lang=zh-cn]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Arial,PingFang SC,Microsoft YaHei,"\5FAE\8F6F\96C5\9ED1",sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}.ui-toc-dropdown[lang=zh-cn]{font-family:Source Sans Pro,Helvetica,Arial,Microsoft YaHei UI,"\5FAE\8F6F\96C5\9ED1UI",sans-serif}.ui-affix-toc{position:fixed;top:0;max-width:15vw;max-height:70vh;overflow:auto}.back-to-top,.expand-toggle,.go-to-bottom{display:block;padding:4px 10px;margin-top:10px;margin-left:10px;font-size:12px;font-weight:500;color:rgba(0,0,0,.85)}.back-to-top:focus,.back-to-top:hover,.expand-toggle:focus,.expand-toggle:hover,.go-to-bottom:focus,.go-to-bottom:hover{color:#563d7c;text-decoration:none}.back-to-top,.go-to-bottom{margin-top:0}.ui-user-icon{width:20px;height:20px;display:block;border-radius:3px;margin-top:2px;margin-bottom:2px;margin-right:5px;background-position:50%;background-repeat:no-repeat;background-size:contain}.ui-user-icon.small{width:18px;height:18px;display:inline-block;vertical-align:middle;margin:0 0 .2em}small span{line-height:22px}small .dropdown{display:inline-block}small .dropdown a:focus,small .dropdown a:hover{text-decoration:none}.unselectable{-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none;user-select:none}.night .navbar{background:#333;border-bottom-color:#333;color:#eee}.night .navbar a{color:#eee}@media print{blockquote,div,img,pre,table{page-break-inside:avoid!important}a[href]:after{font-size:12px!important}}.markdown-body.slides{position:relative;z-index:1;color:#222}.markdown-body.slides:before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;z-index:-1;background-color:currentColor;box-shadow:0 0 0 50vw}.markdown-body.slides section[data-markdown]{position:relative;margin-bottom:1.5em;background-color:#fff;text-align:center}.markdown-body.slides section[data-markdown] code{text-align:left}.markdown-body.slides section[data-markdown]:before{content:"";display:block;padding-bottom:56.23%}.markdown-body.slides section[data-markdown]>div:first-child{position:absolute;top:50%;left:1em;right:1em;transform:translateY(-50%);max-height:100%;overflow:hidden}.markdown-body.slides section[data-markdown]>ul{display:inline-block}.markdown-body.slides>section>section+section:after{content:"";position:absolute;top:-1.5em;right:1em;height:1.5em;border:3px solid #777}body{font-smoothing:subpixel-antialiased!important;-webkit-font-smoothing:subpixel-antialiased!important;-moz-osx-font-smoothing:auto!important;text-shadow:0 0 1em transparent,1px 1px 1.2px rgba(0,0,0,.004);-webkit-overflow-scrolling:touch;font-family:Source Sans Pro,Helvetica,Arial,sans-serif;letter-spacing:.025em}.focus,:focus{outline:none!important}::-moz-focus-inner{border:0!important}body.modal-open{overflow-y:auto;padding-right:0!important}
    </style>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" integrity="sha256-3Jy/GbSLrg0o9y5Z5n1uw0qxZECH7C6OQpVBgNFYa0g=" crossorigin="anonymous"></script>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js" integrity="sha256-g6iAfvZp+nDQ2TdTR/VVKJf3bGro4ub5fvWSWVRi2NE=" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.9/es5-shim.min.js" integrity="sha256-8E4Is26QH0bD52WoQpcB+R/tcWQtpzlCojrybUd7Mxo=" crossorigin="anonymous"></script>
    <![endif]-->
</head>

<body>
    <div id="doc" class="markdown-body container-fluid" lang="en"><h1 id="Lab---Graph-databases-MemgraphNeo4j"><a class="anchor hidden-xs" href="#Lab---Graph-databases-MemgraphNeo4j" title="Lab---Graph-databases-MemgraphNeo4j"><i class="fa fa-link"></i></a>Lab - Graph databases (Memgraph/Neo4j)</h1><p><strong>Course:</strong> Big Data - IU S25<br>
<strong>Author:</strong> Firas Jolha</p><h1 id="Dataset"><a class="anchor hidden-xs" href="#Dataset" title="Dataset"><i class="fa fa-link"></i></a>Dataset</h1><ul>
<li><a href="https://disk.yandex.ru/d/HlBEEgUJmkD6Xg" target="_blank" rel="noopener">Users and Posts</a></li>
</ul><h1 id="Agenda"><a class="anchor hidden-xs" href="#Agenda" title="Agenda"><i class="fa fa-link"></i></a>Agenda</h1><p></p><div class="toc"><ul>
<li><a href="#Lab---Graph-databases-MemgraphNeo4j" title="Lab - Graph databases (Memgraph/Neo4j)">Lab - Graph databases (Memgraph/Neo4j)</a></li>
<li><a href="#Dataset" title="Dataset">Dataset</a></li>
<li><a href="#Agenda" title="Agenda">Agenda</a></li>
<li><a href="#Graph-databases" title="Graph databases">Graph databases</a><ul>
<li><a href="#Download-and-Install-Memgraph" title="Download and Install Memgraph">Download and Install Memgraph</a></li>
<li><a href="#Download-and-Install-Neo4j" title="Download and Install Neo4j">Download and Install Neo4j</a><ul>
<li><a href="#Using-Docker" title="Using Docker">Using Docker</a></li>
<li><a href="#Without-Docker" title="Without Docker">Without Docker</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Cypher" title="Cypher">Cypher</a><ul>
<li><a href="#Property-types" title="Property types">Property types</a></li>
<li><a href="#Structural-types" title="Structural types">Structural types</a></li>
<li><a href="#Composite-types" title="Composite types">Composite types</a></li>
<li><a href="#How-to-define-a-variable" title="How to define a variable">How to define a variable</a></li>
<li><a href="#Operators" title="Operators">Operators</a><ul>
<li><a href="#DISTINCT-aggregation-operator" title="DISTINCT (aggregation operator)">DISTINCT (aggregation operator)</a></li>
<li><a href="#Property-operators" title="Property operators">Property operators</a></li>
<li><a href="#Mathemtical-operators" title="Mathemtical operators">Mathemtical operators</a></li>
<li><a href="#Comparison-operators" title="Comparison operators">Comparison operators</a></li>
<li><a href="#Boolean-operators" title="Boolean operators">Boolean operators</a></li>
<li><a href="#String-operators" title="String operators">String operators</a></li>
</ul>
</li>
<li><a href="#Patterns" title="Patterns">Patterns</a><ul>
<li><a href="#Patterns-for-nodes" title="Patterns for nodes">Patterns for nodes</a></li>
<li><a href="#Patterns-for-related-nodes" title="Patterns for related nodes">Patterns for related nodes</a></li>
<li><a href="#Patterns-for-labels" title="Patterns for labels">Patterns for labels</a></li>
<li><a href="#Specifying-properties" title="Specifying properties">Specifying properties</a></li>
<li><a href="#Patterns-for-relationships" title="Patterns for relationships">Patterns for relationships</a></li>
<li><a href="#Variable-length-pattern-matching" title="Variable-length pattern matching">Variable-length pattern matching</a></li>
<li><a href="#Assigning-to-path-variables" title="Assigning to path variables">Assigning to path variables</a></li>
</ul>
</li>
<li><a href="#Building-the-database-and-importing-dataset-files" title="Building the database and importing dataset files">Building the database and importing dataset files</a><ul>
<li><a href="#Using-Neo4j-Desktop" title="Using Neo4j Desktop">Using Neo4j Desktop</a></li>
<li><a href="#Using-Neo4j-installed-via-Docker" title="Using Neo4j installed via Docker">Using Neo4j installed via Docker</a></li>
<li><a href="#Using-Memgraph-installed-via-Docker" title="Using Memgraph installed via Docker">Using Memgraph installed via Docker</a></li>
<li><a href="#Data-loading-and-creating-nodesrelationships" title="Data loading and creating nodes/relationships">Data loading and creating nodes/relationships</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Data-Retrieval-with-Cypher" title="Data Retrieval with Cypher">Data Retrieval with Cypher</a></li>
</ul>
</div><p></p><h1 id="Graph-databases"><a class="anchor hidden-xs" href="#Graph-databases" title="Graph-databases"><i class="fa fa-link"></i></a>Graph databases</h1><p>A graph database stores nodes and relationships instead of tables, or documents. Data is stored just like you might sketch ideas on a whiteboard. Your data is stored without restricting it to a pre-defined model, allowing a very flexible way of thinking about and using it.</p><p>Graph databases address big challenges many of us tackle daily. Modern data problems often involve many-to-many relationships with heterogeneous data that sets up needs to:</p><ul>
<li>Navigate deep hierarchies,</li>
<li>Find hidden connections between distant items, and</li>
<li>Discover inter-relationships between items.</li>
</ul><p>Whether it’s a social network, payment networks, or road network you’ll find that everything is an interconnected graph of relationships. And when we want to ask questions about the real world, many questions are about the relationships rather than about the individual data elements.</p><center>
<img src="https://i.imgur.com/TolfC5Q.png" width="400">
<p>Example of a simple graph database
</p>
</center><p>Neo4j is an open-source, NoSQL, native graph database that provides an ACID-compliant transactional backend for your applications that has been publicly available since 2007. In Neo4j, information is organized as nodes, relationships, and properties. We can retrieve data from Neo4j via its query language called Cypher which is a declarative query language similar to SQL, but optimized for graphs.</p><center>
<img src="https://i.imgur.com/JE0Cr95.png" width="400">
<p>Building blocks of the property graph model
</p>
</center><p>The property graph model consists of mainly nodes and relationships. Nodes are the entities in the graph.</p><ul>
<li>Nodes can be tagged with labels, representing their different roles in your domain. (For example, Person).</li>
<li>Nodes can hold any number of key-value pairs, or properties. (For example, name).</li>
<li>Node labels may also attach metadata (such as index or constraint information) to certain nodes.</li>
</ul><p>Whereas relationships provide directed, named, connections between two node entities (e.g. Person LOVES Person).</p><ul>
<li>Relationships always have a direction, a type, a start node, and an end node, and they can have properties, just like nodes.</li>
<li>Nodes can have any number or type of relationships without sacrificing performance.</li>
<li>Although relationships are always directed, they can be navigated efficiently in any direction.</li>
</ul><h2 id="Download-and-Install-Memgraph"><a class="anchor hidden-xs" href="#Download-and-Install-Memgraph" title="Download-and-Install-Memgraph"><i class="fa fa-link"></i></a>Download and Install Memgraph</h2><p>You can download the Docker image for Memgraph and run a container. You can find more detail in <a href="https://memgraph.com/docs/getting-started/install-memgraph/docker" target="_blank" rel="noopener">this official page</a>. Memgraph comes with different Docker images. The main repositories that contain <code>memgraph</code> are:</p><ul>
<li><code>memgraph/memgraph-mage</code> - includes Memgraph database, command-line interface <code>mgconsole</code> and MAGE graph algorithms library. If tagged with cuGraph, it also includes NVIDIA cuGraph GPU-powered graph algorithms.</li>
<li><code>memgraph/memgraph</code> - includes Memgraph database and command-line interface <code>mgconsole</code>.</li>
</ul><p>There are also two additional standalone images that do not include the Memgraph:</p><ul>
<li><code>memgraph/lab</code> - includes a web interface Memgraph Lab that helps you explore the data stored in Memgraph.</li>
<li><code>memgraph/mgconsole</code> - includes a command-line interface mgconsole that allows you to interact with Memgraph from the command line.</li>
</ul><p>For this lab, you can just need two containers. One is the graph engine and another the web user interface. You can run a multi-container memgraph as follows:</p><pre><code class="dockerfile hljs">services:
  memgraph:
    image: memgraph/memgraph-mage:latest
    container_name: memgraph-mage
    ports:
      - <span class="hljs-string">"7687:7687"</span>
      - <span class="hljs-string">"7444:7444"</span>
    command: [<span class="hljs-string">"--log-level=TRACE"</span>]

  lab:
    image: memgraph/lab:latest
    container_name: memgraph-lab
    ports:
      - <span class="hljs-string">"3001:3000"</span>
    depends_on:
      - memgraph
    environment:
      - QUICK_CONNECT_MG_HOST=memgraph
      - QUICK_CONNECT_MG_PORT=<span class="hljs-number">7687</span>
</code></pre><p>You can just put this content in a file <code>docker-compose.yaml</code> and then run it using <code>docker compose up -d</code>. Then you can open the Memgraph lab (<a href="http://localhost:3001" target="_blank" rel="noopener">http://localhost:3001</a>) in the browser to access the web UI as shown below.</p><p><img src="https://i.imgur.com/x8Iwvxo.png" alt="" class="md-image md-image"></p><p>You can also access the console of the graph if you selected to not use the Memgraph lab web UI as follows:</p><pre><code>docker exec -it memgraph-mage mgconsole
</code></pre><p>This will open the console for Memgraph where you can write your queries in Cypher language.</p><h2 id="Download-and-Install-Neo4j"><a class="anchor hidden-xs" href="#Download-and-Install-Neo4j" title="Download-and-Install-Neo4j"><i class="fa fa-link"></i></a>Download and Install Neo4j</h2><h3 id="Using-Docker"><a class="anchor hidden-xs" href="#Using-Docker" title="Using-Docker"><i class="fa fa-link"></i></a>Using Docker</h3><p>The <strong>easy</strong> approach is to install Neo4j server using Docker. You can do that by simply running one container which will allow you to start the database engine and a web UI.</p><pre><code class="wrap yaml hljs"><span class="hljs-string">docker</span> <span class="hljs-string">run</span> <span class="hljs-bullet">--name</span> <span class="hljs-string">neo4j_server</span> <span class="hljs-bullet">-d</span> <span class="hljs-bullet">--publish=7474:7474</span> <span class="hljs-bullet">--publish=7687:7687</span> <span class="hljs-bullet">--volume=$HOME/neo4j/data:/data</span> <span class="hljs-string">neo4j</span>
</code></pre><p>Make sure that all ports (7474 and 7687) are free. For instance, if you are running both Neo4j and Memgraph then the port 7687 is used by both so you either change this port number for one of them or stop one of them to start the other.</p><h3 id="Without-Docker"><a class="anchor hidden-xs" href="#Without-Docker" title="Without-Docker"><i class="fa fa-link"></i></a>Without Docker</h3><p>You also can install Neo4j Desktop on your local machine. You can find here (<a href="https://neo4j.com/docs/desktop-manual/current/installation/download-installation/" target="_blank" rel="noopener">https://neo4j.com/docs/desktop-manual/current/installation/download-installation/</a>) some information about installing Neo4j Desktop and you can find here (<a href="https://neo4j.com/download-center/" target="_blank" rel="noopener">https://neo4j.com/download-center/</a>) download links.</p><div class="alert alert-danger">
<p>If you are downloading Neo4j Desktop from Russia, select <code>other</code> from country list and use some proxy server.</p>
</div><p>After you start downloading, the website will give a long key you need to use when you install the software as follows:<br>
<img src="https://i.imgur.com/bwbGHJ5.png" alt="" class="md-image md-image"></p><p>The software will prepare the environment for installation as follows.</p><center>
<img src="https://i.imgur.com/XvkI0rv.png" width="300">
<p>Installing Neo4j Desktop
</p>
</center><p>When you succeed installation, it will show the following dashboard.<br>
<img src="https://i.imgur.com/P3QBb6U.png" alt="" class="md-image md-image"></p><p>You can access the Neo4j web UI usually at <a href="http://localhost:7474" target="_blank" rel="noopener">http://localhost:7474</a> in case you did not change the default ports.</p><div class="alert alert-danger">
<p>If you can not install Neo4j due to some reason, you can open a free session of Neo4j Sandbox at <a href="https://neo4j.com/sandbox/" target="_blank" rel="noopener">https://neo4j.com/sandbox/</a> but you need proxy.</p>
</div><h1 id="Cypher"><a class="anchor hidden-xs" href="#Cypher" title="Cypher"><i class="fa fa-link"></i></a>Cypher</h1><p>Cypher is Neo4j’s graph database query language that allows users to store and retrieve data from the graph database. It is a declarative, SQL-inspired language for describing visual patterns in graphs. The syntax provides a visual and logical way to match patterns of nodes and relationships in the graph. Cypher keywords are not case-sensitive but it is case-sensitive for variables.</p><p>All Neo4j servers contain a built-in database called <code>system</code>, which behaves differently than all other databases. The <code>system</code> database stores system data and you can not perform graph queries against it. A fresh installation of Neo4j includes two databases:</p><ul>
<li><strong>system</strong> - the system database described above, containing meta-data on the DBMS and security configuration.</li>
<li><strong>neo4j</strong> - the default database, named using the config option dbms.default_database=neo4j.</li>
</ul><p>Cypher provides first class support for a number of data types. These fall into the following three categories: property, structural, and composite.</p><div class="alert alert-warning">
<p>Memgraph also provides with a default database in community edition named <code>memgraph</code>. You can use the same Cypher language to write and run queries in Memgraph. The difference is in some commands (e.g. loading data) and the functions supported by the engine. Neo4j provides APOC library that allows to access a huge set of functions useful for different purposes (data integration, graph algorithms, and data conversion.). Memgraph also provides functions and you can list all available functions by running <code>CALL mg.functions() YIELD *;</code>. Memgraph has a library called MAGE graph algorithm library that allows to access a set of functions for graph algorithms. Neo4j has a similar library called Graph Data Science (GDS).</p>
</div><h2 id="Property-types"><a class="anchor hidden-xs" href="#Property-types" title="Property-types"><i class="fa fa-link"></i></a>Property types</h2><p>The following data types are included in the property types category: Integer, Float, String, Boolean, Point, Date, Time, LocalTime, DateTime, LocalDateTime, and Duration. For more details, visit the <a href="https://neo4j.com/docs/cypher-manual/4.4/syntax/values/#_property_type_details" target="_blank" rel="noopener">documentation</a>.</p><h2 id="Structural-types"><a class="anchor hidden-xs" href="#Structural-types" title="Structural-types"><i class="fa fa-link"></i></a>Structural types</h2><p>The following data types are included in the structural types category: Node, Relationship, and Path.</p><ul>
<li>The <strong>Node</strong> data type includes: Id, Label(s), and Map (of properties). Note that labels are not values, but a form of pattern syntax.</li>
<li>The <strong>Relationship</strong> data type includes: Id, Type, Map (of properties), Id of start node, and Id of end node.</li>
<li>The <strong>Path</strong> data type is an alternating sequence of nodes and relationships.</li>
</ul><p>Nodes, relationships, and paths are returned as a result of pattern matching. In Neo4j, all relationships have a direction. However, you can have the notion of undirected relationships at query time.</p><h2 id="Composite-types"><a class="anchor hidden-xs" href="#Composite-types" title="Composite-types"><i class="fa fa-link"></i></a>Composite types</h2><p>The following data types are included in the composite types category: List and Map.</p><pre><code class="wrap cpp hljs">RETURN [1,2,3,4,5], {id:1, msg: 'hello', age: 31}
</code></pre><h2 id="How-to-define-a-variable"><a class="anchor hidden-xs" href="#How-to-define-a-variable" title="How-to-define-a-variable"><i class="fa fa-link"></i></a>How to define a variable</h2><p>When you reference parts of a pattern or a query, you do so by naming them. The names you give the different parts are called variables.<br>
In this example:</p><pre><code class="wrap cpp hljs">MATCH (n)--&gt;(b)
RETURN b
</code></pre><p>The variables are n and b.</p><pre><code class="wrap cpp hljs"><span class="hljs-comment">// this is a comment</span>
</code></pre><p>A comment begin with double slash (//) and continue to the end of the line. Comments do not execute, they are for humans to read.</p><h2 id="Operators"><a class="anchor hidden-xs" href="#Operators" title="Operators"><i class="fa fa-link"></i></a>Operators</h2><h3 id="DISTINCT-aggregation-operator"><a class="anchor hidden-xs" href="#DISTINCT-aggregation-operator" title="DISTINCT-aggregation-operator"><i class="fa fa-link"></i></a><strong>DISTINCT</strong> (aggregation operator)</h3><pre><code class="wrap sql hljs"><span class="hljs-keyword">WITH</span> [<span class="hljs-string">'a'</span>, <span class="hljs-string">'a'</span>, <span class="hljs-number">4</span>, <span class="hljs-string">'b'</span>, <span class="hljs-number">4</span>] <span class="hljs-keyword">AS</span> ps
UNWIND ps <span class="hljs-keyword">AS</span> p
<span class="hljs-keyword">RETURN</span> <span class="hljs-keyword">DISTINCT</span> p
</code></pre><p>The output will have only ‘a’, 4, and ‘b’.</p><h3 id="Property-operators"><a class="anchor hidden-xs" href="#Property-operators" title="Property-operators"><i class="fa fa-link"></i></a>Property operators</h3><h4 id="The-operator--statically-access-the-property-of-a-node-or-relationship"><a class="anchor hidden-xs" href="#The-operator--statically-access-the-property-of-a-node-or-relationship" title="The-operator--statically-access-the-property-of-a-node-or-relationship"><i class="fa fa-link"></i></a>The operator <code>.</code> statically access the property of a node or relationship</h4><h4 id="The-operator--used-for-filtering-on-a-dynamically-computed-property-key"><a class="anchor hidden-xs" href="#The-operator--used-for-filtering-on-a-dynamically-computed-property-key" title="The-operator--used-for-filtering-on-a-dynamically-computed-property-key"><i class="fa fa-link"></i></a>The operator <code>[]</code> used for filtering on a dynamically-computed property key</h4><pre><code class="wrap cpp hljs">CREATE
  (a:Restaurant {name: 'Hungry Jo', rating_hygiene: 10, rating_food: 7}),
  (b:Restaurant {name: 'Buttercup Tea Rooms', rating_hygiene: 5, rating_food: 6}),
  (c1:Category {name: 'hygiene'}),
  (c2:Category {name: 'food'})
WITH a, b, c1, c2
MATCH (restaurant:Restaurant), (category:Category)
WHERE restaurant["rating_" + category.name] &gt; 6
RETURN DISTINCT restaurant.name
</code></pre><h4 id="The-operator--used-for-replacing-all-properties-of-a-node-or-relationship"><a class="anchor hidden-xs" href="#The-operator--used-for-replacing-all-properties-of-a-node-or-relationship" title="The-operator--used-for-replacing-all-properties-of-a-node-or-relationship"><i class="fa fa-link"></i></a>The operator <code>=</code> used for replacing all properties of a node or relationship</h4><pre><code class="wrap cpp hljs">CREATE (a:Person {name: 'Jane', age: 20})
WITH a
MATCH (p:Person {name: 'Jane'})
SET p = {name: 'Ellen', livesIn: 'London'}
RETURN p.name, p.age, p.livesIn
</code></pre><h3 id="Mathemtical-operators"><a class="anchor hidden-xs" href="#Mathemtical-operators" title="Mathemtical-operators"><i class="fa fa-link"></i></a>Mathemtical operators</h3><p>The mathematical operators comprise:</p><ul>
<li>addition: +</li>
<li>subtraction or unary minus: -</li>
<li>multiplication: *</li>
<li>division: /</li>
<li>modulo division: %</li>
<li>exponentiation: ^</li>
</ul><h3 id="Comparison-operators"><a class="anchor hidden-xs" href="#Comparison-operators" title="Comparison-operators"><i class="fa fa-link"></i></a>Comparison operators</h3><p>The comparison operators comprise:</p><ul>
<li>equality: =</li>
<li>inequality: &lt;&gt;</li>
<li>less than: &lt;</li>
<li>greater than: &gt;</li>
<li>less than or equal to: &lt;=</li>
<li>greater than or equal to: &gt;=</li>
<li>IS NULL</li>
<li>IS NOT NULL</li>
</ul><p>String-specific comparison operators comprise:</p><ul>
<li>STARTS WITH: perform case-sensitive prefix searching on strings</li>
<li>ENDS WITH: perform case-sensitive suffix searching on strings</li>
<li>CONTAINS: perform case-sensitive inclusion searching in strings</li>
<li>=~: regular expression for matching a pattern</li>
</ul><pre><code class="wrap cpp hljs">WITH ['mouse', 'chair', 'door', 'house'] AS wordlist
UNWIND wordlist AS word
WITH word
WHERE word =~ '.*ous.*'
RETURN word
</code></pre><h3 id="Boolean-operators"><a class="anchor hidden-xs" href="#Boolean-operators" title="Boolean-operators"><i class="fa fa-link"></i></a>Boolean operators</h3><p>The boolean operators — also known as logical operators — comprise: <code>AND</code>, <code>OR</code>, <code>XOR</code>, <code>NOT</code>.</p><h3 id="String-operators"><a class="anchor hidden-xs" href="#String-operators" title="String-operators"><i class="fa fa-link"></i></a>String operators</h3><p>The string operators comprise: concatenating strings: <code>+</code></p><pre><code class="wrap cpp hljs">RETURN 'neo' + '4j' AS result
</code></pre><p>Check other operators from the documentation.</p><h2 id="Patterns"><a class="anchor hidden-xs" href="#Patterns" title="Patterns"><i class="fa fa-link"></i></a>Patterns</h2><p>Patterns and pattern-matching are at the very heart of Cypher, so being effective with Cypher requires a good understanding of patterns.<br>
Using patterns, you describe the shape of the data you are looking for. For example, in the MATCH clause you describe the shape with a pattern, and Cypher will figure out how to get that data for you.</p><p>The pattern describes the data using a form that is very similar to how one typically draws the shape of property graph data on a whiteboard: usually as circles (representing nodes) and arrows between them to represent relationships.</p><p>Patterns appear in multiple places in Cypher: in <code>MATCH</code>, <code>CREATE</code> and <code>MERGE</code> clauses, and in pattern expressions.</p><h3 id="Patterns-for-nodes"><a class="anchor hidden-xs" href="#Patterns-for-nodes" title="Patterns-for-nodes"><i class="fa fa-link"></i></a>Patterns for nodes</h3><p>This simple pattern describes a single node, and names that node using the variable a.</p><pre><code class="wrap cpp hljs">(a)
</code></pre><h3 id="Patterns-for-related-nodes"><a class="anchor hidden-xs" href="#Patterns-for-related-nodes" title="Patterns-for-related-nodes"><i class="fa fa-link"></i></a>Patterns for related nodes</h3><p>This pattern describes a very simple data shape: two nodes, and a single relationship from one to the other.</p><pre><code class="wrap cpp hljs">(a)--&gt;(b)
</code></pre><p>This manner of describing nodes and relationships can be extended to cover an arbitrary number of nodes and the relationships between them, for example:</p><pre><code class="wrap cpp hljs">(a)--&gt;(b)&lt;--(c)
</code></pre><p>Such a series of connected nodes and relationships is called a <strong>“path”</strong>.</p><h3 id="Patterns-for-labels"><a class="anchor hidden-xs" href="#Patterns-for-labels" title="Patterns-for-labels"><i class="fa fa-link"></i></a>Patterns for labels</h3><p>The most simple attribute that can be described in the pattern is a label that the node must have. For example:</p><pre><code class="wrap cpp hljs">(a:User)--&gt;(b)
</code></pre><p>One can also describe a node that has multiple labels:</p><pre><code class="wrap cpp hljs">(a:User:Admin)--&gt;(b)
</code></pre><h3 id="Specifying-properties"><a class="anchor hidden-xs" href="#Specifying-properties" title="Specifying-properties"><i class="fa fa-link"></i></a>Specifying properties</h3><p>Properties can be expressed in patterns using a map-construct: curly brackets surrounding a number of key-expression pairs, separated by commas. E.g. a node with two properties on it would look like:</p><pre><code class="wrap cpp hljs">(a {name: 'Andy', sport: 'Brazilian Ju-Jitsu'})
</code></pre><p>A relationship with expectations on it is given by:</p><pre><code class="wrap cpp hljs">(a)-[{blocked: <span class="hljs-literal">false</span>}]-&gt;(b)
</code></pre><h3 id="Patterns-for-relationships"><a class="anchor hidden-xs" href="#Patterns-for-relationships" title="Patterns-for-relationships"><i class="fa fa-link"></i></a>Patterns for relationships</h3><p>The simplest way to describe a relationship is by using the arrow between two nodes, as in the previous examples. Using this technique, you can describe that the relationship should exist and the directionality of it. If you don’t care about the direction of the relationship, the arrow head can be omitted, as exemplified by:</p><pre><code class="wrap cpp hljs">(a)--(b)

(a)-[r]-&gt;(b)

(a)-[r:REL_TYPE]-&gt;(b)
    
(a)-[r:TYPE1|TYPE2]-&gt;(b)

(a)-[:REL_TYPE]-&gt;(b)
</code></pre><h3 id="Variable-length-pattern-matching"><a class="anchor hidden-xs" href="#Variable-length-pattern-matching" title="Variable-length-pattern-matching"><i class="fa fa-link"></i></a>Variable-length pattern matching</h3><p>Rather than describing a long path using a sequence of many node and relationship descriptions in a pattern, many relationships (and the intermediate nodes) can be described by specifying a length in the relationship description of a pattern. For example:</p><pre><code class="wrap cpp hljs">(a)-[*<span class="hljs-number">2</span>]-&gt;(b) 
</code></pre><p>This describes a graph of three nodes and two relationships, all in one path (a path of length 2). This is equivalent to:</p><pre><code class="wrap cpp hljs">(a)--&gt;()--&gt;(b)
</code></pre><p>A range of lengths can also be specified: such relationship patterns are called ‘variable length relationships’. For example:</p><pre><code class="wrap cpp hljs">(a)-[*<span class="hljs-number">3.</span><span class="hljs-number">.5</span>]-&gt;(b)
</code></pre><p>This is a minimum length of 3, and a maximum of 5. It describes a graph of either 4 nodes and 3 relationships, 5 nodes and 4 relationships or 6 nodes and 5 relationships, all connected together in a single path.</p><p>Either bound can be omitted. For example, to describe paths of length 3 or more, use:</p><pre><code class="wrap cpp hljs">(a)-[*<span class="hljs-number">3.</span>.]-&gt;(b)
</code></pre><p>To describe paths of length 5 or less, use:</p><pre><code class="wrap cpp hljs">(a)-[*.<span class="hljs-number">.5</span>]-&gt;(b)
</code></pre><p>Omitting both bounds is equivalent to specifying a minimum of 1, allowing paths of any positive length to be described:</p><pre><code class="wrap cpp hljs">(a)-[*]-&gt;(b)
</code></pre><h3 id="Assigning-to-path-variables"><a class="anchor hidden-xs" href="#Assigning-to-path-variables" title="Assigning-to-path-variables"><i class="fa fa-link"></i></a>Assigning to path variables</h3><p>Cypher allows paths to be named using an identifer, as exemplified by:</p><pre><code class="wrap cpp hljs">p = (a)-[*<span class="hljs-number">3.</span><span class="hljs-number">.5</span>]-&gt;(b)
</code></pre><h2 id="Building-the-database-and-importing-dataset-files"><a class="anchor hidden-xs" href="#Building-the-database-and-importing-dataset-files" title="Building-the-database-and-importing-dataset-files"><i class="fa fa-link"></i></a>Building the database and importing dataset files</h2><h3 id="Using-Neo4j-Desktop"><a class="anchor hidden-xs" href="#Using-Neo4j-Desktop" title="Using-Neo4j-Desktop"><i class="fa fa-link"></i></a>Using Neo4j Desktop</h3><p>In Neo4j Desktop, create a new project as follows:<br>
<img src="https://i.imgur.com/zHfzGM7.png" alt="" class="md-image md-image"></p><p>and add a local DBMs to the new project. Then, start the database as follows:<br>
<img src="https://i.imgur.com/sr40QXb.png" alt="" class="md-image md-image"></p><p>As you can see in the following screenshot, the database is active and we can access it as a default user <code>neo4j</code> by opening a dashboard with <code>Neo4j Browser</code>.<br>
<img src="https://i.imgur.com/orOE6Ch.png" alt="" class="md-image md-image"></p><p>In order to load csv files to the database, you need to add them to the <code>import</code> of the database (do not add them to the project directory) as follows:<br>
<img src="https://i.imgur.com/71ItvTP.png" alt="" class="md-image md-image"></p><p>After copying/pasting the csv files, the <code>import</code> directory will be as follows:<br>
<img src="https://i.imgur.com/qLTdMJO.png" alt="" class="md-image md-image"></p><h3 id="Using-Neo4j-installed-via-Docker"><a class="anchor hidden-xs" href="#Using-Neo4j-installed-via-Docker" title="Using-Neo4j-installed-via-Docker"><i class="fa fa-link"></i></a>Using Neo4j installed via Docker</h3><p>This image is related to the community edition of Neo4j and you cannot create a new database but you can load files as follows. You need to find the folder <code>import</code> inside the Neo4j server container where you have to put your files. By default, the path in the container is <code>/var/lib/neo4j/import</code>. You can copy your files there using <code>docker cp</code>.</p><h3 id="Using-Memgraph-installed-via-Docker"><a class="anchor hidden-xs" href="#Using-Memgraph-installed-via-Docker" title="Using-Memgraph-installed-via-Docker"><i class="fa fa-link"></i></a>Using Memgraph installed via Docker</h3><p>Here you also cannot create more than the default database <code>memgraph</code> if you do not have the enterprise edition. You can import the dataset files into the database using <code>docker cp</code> and there is no specific folder to put the files in. So, I will assume that you will put the files in the directory <code>/var/lib/memgraph/</code> or maybe you can access the container using <code>bash</code> and create a directory/repository for importing data like <code>/var/lib/memgraph/data</code>. Let’s follow the latter approach.</p><ol>
<li>Access the container via <code>bash</code>.</li>
</ol><pre><code class="yaml hljs"><span class="hljs-string">docker</span> <span class="hljs-string">exec</span>  <span class="hljs-bullet">-it</span> <span class="hljs-string">memgraph-mage</span> <span class="hljs-string">bash</span>
</code></pre><ol start="2">
<li>Create the folder</li>
</ol><pre><code class="yaml hljs"><span class="hljs-string">mkdir</span> <span class="hljs-bullet">-p</span> <span class="hljs-string">/var/lib/memgraph/data</span>


<span class="hljs-comment"># You can also run one line for the steps above</span>
<span class="hljs-comment"># docker exec -it memgraph-mage bash -c "mkdir -p /var/lib/memgraph/data"</span>
</code></pre><ol start="3">
<li>Import the data using <code>docker cp</code>.</li>
</ol><pre><code class="yaml hljs"><span class="hljs-string">docker</span> <span class="hljs-string">cp</span> <span class="hljs-string">&lt;path-to-your-file-n-local-machine&gt;</span> <span class="hljs-attr">memgraph-mage:/var/lib/memgraph/data/</span>
</code></pre><h3 id="Data-loading-and-creating-nodesrelationships"><a class="anchor hidden-xs" href="#Data-loading-and-creating-nodesrelationships" title="Data-loading-and-creating-nodesrelationships"><i class="fa fa-link"></i></a>Data loading and creating nodes/relationships</h3><p>Each of the 3 CSV files needs to be loaded into Neo4j using the LOAD CSV command that reads each row of the file and then assigns the imported values to the nodes and edges of the graph.</p><div class="alert alert-info">
<p>The instructions for Neo4j here are a little different than Memgraph but for the queries in the next sections it is the same.</p>
</div><pre><code class="javascript hljs">
<span class="hljs-comment">// Memgraph</span>
<span class="hljs-comment">// Create Index for users on userid field</span>
CREATE INDEX ON :User(userid);

<span class="hljs-comment">// Neo4j</span>
<span class="hljs-comment">// Create Index for users on userid field</span>
CREATE INDEX FOR (u:User) ON (u.userid)


<span class="hljs-comment">// Memgraph</span>
<span class="hljs-comment">// Create Index for posts on postid field</span>
CREATE INDEX ON :Post(postid);

<span class="hljs-comment">// Neo4j</span>
<span class="hljs-comment">// Create Index for posts on postid field</span>
CREATE INDEX FOR (u:Post) ON (u.postid)


<span class="hljs-comment">// Memgraph</span>
<span class="hljs-comment">// Load users data</span>
LOAD CSV FROM <span class="hljs-string">"/var/lib/memgraph/data/users.csv"</span>
WITH HEADER DELIMITER <span class="hljs-string">","</span> AS row&amp;nbsp;
WITH row, toInteger(row.timestamp) AS epoch_seconds&amp;nbsp;
CALL date.format(epoch_seconds, <span class="hljs-string">"s"</span>, <span class="hljs-string">"%Y-%m-%dT%H:%M:%S"</span>) YIELD formatted
CREATE (:User {
<span class="hljs-attr">userid</span>: toInteger(row.userid),
<span class="hljs-attr">name</span>: row.name,
<span class="hljs-attr">surname</span>: row.surname,
<span class="hljs-attr">age</span>: toInteger(row.age),
<span class="hljs-attr">timestamp</span>: localDateTime(formatted)
});


<span class="hljs-comment">// Neo4j</span>
<span class="hljs-comment">// Load users data</span>
LOAD CSV WITH HEADERS 
FROM <span class="hljs-string">"file:///users.csv"</span> AS row 
FIELDTERMINATOR <span class="hljs-string">','</span>
CREATE (
    :User {
        <span class="hljs-attr">userid</span>: toInteger(row[<span class="hljs-string">'userid'</span>]), 
        <span class="hljs-attr">name</span>:row[<span class="hljs-string">'name'</span>], 
        <span class="hljs-attr">surname</span>: row[<span class="hljs-string">'surname'</span>], 
        <span class="hljs-attr">age</span>: toInteger(row[<span class="hljs-string">'age'</span>]), 
        <span class="hljs-attr">timestamp</span>: datetime({<span class="hljs-attr">epochSeconds</span>: toInteger(row[<span class="hljs-string">'timestamp'</span>])})}
);


    


<span class="hljs-comment">// Memgraph</span>
<span class="hljs-comment">// Load posts data</span>
LOAD CSV FROM <span class="hljs-string">"/var/lib/memgraph/data/posts.csv"</span> 
WITH HEADER DELIMITER <span class="hljs-string">","</span> AS row 
CALL date.format(toInteger(row[<span class="hljs-string">'posttimestamp'</span>]),<span class="hljs-string">"s"</span>, <span class="hljs-string">"%Y-%m-%dT%H:%M:%S"</span>) YIELD formatted 
MATCH (u:User{<span class="hljs-attr">userid</span>:toInteger(row[<span class="hljs-string">'userid'</span>])})
MERGE (
    :Post {
        <span class="hljs-attr">postid</span>: toInteger(row[<span class="hljs-string">'postid'</span>]),  
        <span class="hljs-attr">userid</span>: toInteger(row[<span class="hljs-string">'userid'</span>]), 
        <span class="hljs-attr">posttype</span>:row[<span class="hljs-string">'posttype'</span>]
        })&lt;-[:ADD{
    <span class="hljs-attr">posttimestamp</span>: localDateTime(formatted)
    }]-(u);

    
<span class="hljs-comment">// Neo4j</span>
<span class="hljs-comment">// Load posts data</span>
LOAD CSV WITH HEADERS 
FROM <span class="hljs-string">"file:///posts.csv"</span> AS row 
FIELDTERMINATOR <span class="hljs-string">','</span>
MATCH (u:User{<span class="hljs-attr">userid</span>:toInteger(row[<span class="hljs-string">'userid'</span>])})
MERGE (
    :Post {
        <span class="hljs-attr">postid</span>: toInteger(row[<span class="hljs-string">'postid'</span>]),  
        <span class="hljs-attr">userid</span>: toInteger(row[<span class="hljs-string">'userid'</span>]), 
        <span class="hljs-attr">posttype</span>:row[<span class="hljs-string">'posttype'</span>]
        })&lt;-[:ADD{
    <span class="hljs-attr">posttimestamp</span>: datetime({<span class="hljs-attr">epochSeconds</span>: toInteger(row[<span class="hljs-string">'posttimestamp'</span>])})
    }]-(u);




<span class="hljs-comment">// Same for Neo4j/Memgraph</span>
<span class="hljs-comment">// Retrieve some nodes</span>
MATCH (n)
RETURN n
LIMIT <span class="hljs-number">10</span>;


<span class="hljs-comment">// Memgraph</span>
<span class="hljs-comment">// Load Friends</span>
USING PERIODIC COMMIT <span class="hljs-number">1000</span> <span class="hljs-comment">// loads 1000 rows per batch</span>
LOAD CSV FROM <span class="hljs-string">"/var/lib/memgraph/data/friends.csv"</span>
WITH HEADER DELIMITER <span class="hljs-string">","</span> AS row 
MATCH (u:User{<span class="hljs-attr">userid</span>:toInteger(row[<span class="hljs-string">'friend1'</span>])})
MATCH (v:User{<span class="hljs-attr">userid</span>:toInteger(row[<span class="hljs-string">'friend2'</span>])})
MERGE (u)-[:FRIEND]-&gt;(v)-[:FRIEND]-&gt;(u)

<span class="hljs-comment">// Neo4j</span>
<span class="hljs-comment">// Load Friends</span>
:auto USING PERIODIC COMMIT
LOAD CSV WITH HEADERS 
FROM <span class="hljs-string">"file:///friends.csv"</span> AS row 
FIELDTERMINATOR <span class="hljs-string">','</span>
MATCH (u:User{<span class="hljs-attr">userid</span>:toInteger(row[<span class="hljs-string">'friend1'</span>])})
MATCH (v:User{<span class="hljs-attr">userid</span>:toInteger(row[<span class="hljs-string">'friend2'</span>])})
MERGE (u)-[:FRIEND]-&gt;(v)-[:FRIEND]-&gt;(u)
</code></pre><h1 id="Data-Retrieval-with-Cypher"><a class="anchor hidden-xs" href="#Data-Retrieval-with-Cypher" title="Data-Retrieval-with-Cypher"><i class="fa fa-link"></i></a>Data Retrieval with Cypher</h1><div class="alert alert-warning">
<p>All Cypher queries here can run on both engines Neo4j and Memgraph.</p>
</div><p>Cypher is Neo4j’s graph query language that lets you retrieve data from the graph. It is like SQL for graphs, and was inspired by SQL so it lets you focus on what data you want out of the graph (not how to go get it). It is the easiest graph language to learn by far because of its similarity to other languages and intiutiveness.</p><div class="alert alert-success">
<h2 id="Exercises"><a class="anchor hidden-xs" href="#Exercises" title="Exercises"><i class="fa fa-link"></i></a>Exercises</h2>
<ol>
<li>Who are the users who have posts?</li>
</ol>
<pre><code class="wrap javascript hljs"><span class="hljs-comment">// MATCH (u:User)-[:ADD]-()</span>
MATCH (u:User)
RETURN u
LIMIT <span class="hljs-number">10</span> <span class="hljs-comment">// This is added just to not display all nodes</span>
</code></pre>
<p><img src="https://i.imgur.com/Zyyr22j.png" alt="" class="md-image md-image"><br>
2. How many posts of the first 10 users?</p>
<pre><code class="wrap javascript hljs">MATCH (u:User)
WITH u LIMIT <span class="hljs-number">10</span>
MATCH path = (u)-[:ADD]-&gt;(p:Post)
WITH u, COUNT(p) AS posts
ORDER BY posts DESCENDING <span class="hljs-comment">// 117</span>
RETURN u, posts
</code></pre>
<p>This will return the number of posts added by the first 10 users sorted in descending order of the their number of posts. The output is displayed below.<br>
<img src="https://i.imgur.com/4nNlPAU.png" alt="" class="md-image md-image"><br>
3. Which posts published after 2012?</p>
<pre><code class="wrap javascript hljs">MATCH (p:Post)&lt;-[a:ADD]-()
WHERE a.posttimestamp.year &gt; <span class="hljs-number">2012</span>
RETURN p
LIMIT <span class="hljs-number">10</span> <span class="hljs-comment">// This is added just to not display all nodes</span>
</code></pre>
<p><img src="https://i.imgur.com/y8hbDdb.png" alt="" class="md-image md-image"><br>
4. What is the oldest and recent dates of the posts?</p>
<pre><code class="wrap javascript hljs">MATCH (p:Post)-[a:ADD]-()
RETURN MAX(a.posttimestamp), MIN(a.posttimestamp)
</code></pre>
<p><img src="https://i.imgur.com/fqdRSbP.png" alt="" class="md-image md-image"><br>
5. What are the top 5 most recent posts whose type is <code>Image</code>?</p>
<pre><code class="wrap javascript hljs">MATCH (p:Post{<span class="hljs-attr">posttype</span>:<span class="hljs-string">'Image'</span>})-[a:ADD]-()
RETURN p, a
ORDER BY a.posttimestamp DESC
LIMIT <span class="hljs-number">5</span>
</code></pre>
<p><img src="https://i.imgur.com/hcPpRHy.png" alt="" class="md-image md-image"><br>
6. Which top 5 users who posted an <code>Image</code> or <code>Video</code> recently?</p>
<pre><code class="wrap javascript hljs">MATCH (u:User)-[a:ADD]-&gt;(p:Post)
WHERE p.posttype IN [<span class="hljs-string">'Image'</span>, <span class="hljs-string">'Video'</span>]
RETURN u, p
ORDER BY a.posttimestamp
LIMIT <span class="hljs-number">5</span>
</code></pre>
<p><img src="https://i.imgur.com/LR2DjQ0.png" alt="" class="md-image md-image"><br>
7. What is the age of the eldest and youngest persons?</p>
<pre><code class="wrap javascript hljs">MATCH (u:User)
RETURN MAX(u.age), MIN(u.age)

<span class="hljs-comment">// Update the age of the person</span>
MATCH (u:User)
SET u.age = CASE
           WHEN u.age &lt; <span class="hljs-number">0</span> THEN -u.age
           ELSE u.age
          END
</code></pre>
<p><img src="https://i.imgur.com/oVbKESh.png" alt="" class="md-image md-image"></p>
<ol start="8">
<li>Who is the 2nd youngest person who published <code>Image</code> posts?</li>
</ol>
<pre><code class="wrap javascript hljs">MATCH (u:User)-[:ADD]-&gt;(p:Post{<span class="hljs-attr">posttype</span>:<span class="hljs-string">'Image'</span>})
RETURN DISTINCT u.name, u.surname, u.age, p.posttype
ORDER BY u.age ASC
SKIP <span class="hljs-number">1</span>
LIMIT <span class="hljs-number">1</span>
</code></pre>
<p><img src="https://i.imgur.com/ViLraEm.png" alt="" class="md-image md-image"><br>
9. What are the posts that are published by people who are between 20 and 30?</p>
<pre><code class="wrap javascript hljs">MATCH (p:Post)&lt;-[:ADD]-(u:User)
WHERE u.age IN range(<span class="hljs-number">20</span>, <span class="hljs-number">30</span>)
RETURN p.postid, p.posttype, u.age, u.userid
ORDER BY u.age
</code></pre>
<p><img src="https://i.imgur.com/4maQPr1.png" alt="" class="md-image md-image"><br>
10. What are the friends of the youngest person?</p>
<pre><code class="wrap javascript hljs">CALL{
    MATCH (u:User)
    RETURN u.userid AS youngest
    ORDER BY u.age ASC
    LIMIT <span class="hljs-number">1</span>
}
WITH youngest
MATCH (u:User{<span class="hljs-attr">userid</span>:youngest})-[:FRIEND]-(f1:User)
RETURN DISTINCT u.userid AS user, f1.userid AS friend
</code></pre>
<p><img src="https://i.imgur.com/u8tOMhU.png" alt="" class="md-image md-image"><br>
11. How many friends for the surname <code>Thronton</code>?</p>
<pre><code class="wrap javascript hljs">MATCH (u:User{<span class="hljs-attr">surname</span>:<span class="hljs-string">'Thronton'</span>})-[:FRIEND]-(f1:User)
RETURN COUNT(DISTINCT f1)
</code></pre>
<p><img src="https://i.imgur.com/PPx1p4m.png" alt="" class="md-image md-image"><br>
12. How many posts for each user?</p>
<pre><code class="wrap javascript hljs">MATCH (u:User)--(p:Post)
RETURN u.userid AS user, COUNT(*) AS c
ORDER BY c DESC
</code></pre>
<p><img src="https://i.imgur.com/zR5FgIs.png" alt="" class="md-image md-image"><br>
13. Who are the friends of users who posted <code>Image</code>?</p>
<pre><code class="wrap javascript hljs">MATCH (f:User)--(u:User)--(:Post{<span class="hljs-attr">posttype</span>:<span class="hljs-string">'Image'</span>})
RETURN DISTINCT u.userid, u.name, u.surname, f.userid, f.name, f.surname, f.age
</code></pre>
<p><img src="https://i.imgur.com/wcK3RDJ.png" alt="" class="md-image md-image"><br>
14. How many friends of users whose age is less than 20?</p>
<pre><code class="wrap javascript hljs">MATCH (u:User)--(f1:User)
WHERE u.age &lt; <span class="hljs-number">20</span>
RETURN COUNT(DISTINCT f1.userid) AS c
</code></pre>
<p><img src="https://i.imgur.com/AWYnoRi.png" alt="" class="md-image md-image"><br>
15. How many friends of friends of users whose age is less than 20?</p>
<pre><code class="wrap javascript hljs">MATCH (u:User)-[:FRIEND*<span class="hljs-number">2</span>]-(f2:User)
WHERE u.age &lt; <span class="hljs-number">20</span> AND f2.userid &lt;&gt; u.userid
RETURN COUNT(DISTINCT f2.userid) AS c
</code></pre>
<p><img src="https://i.imgur.com/2OQLzxv.png" alt="" class="md-image md-image"><br>
16. How many users have more than 10 posts?<br>
17. What is the average number of posts published at noon and by the friends of the users whose age is more than 40? Calculate the percentage of posts.<br>
18. What is the percentage of posts published at noon and by the friends of the users whose age is more than 40?</p>
</div></div>
    <div class="ui-toc dropup unselectable hidden-print" style="display:none;">
        <div class="pull-right dropdown">
            <a id="tocLabel" class="ui-toc-label btn btn-default" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" title="Table of content">
                <i class="fa fa-bars"></i>
            </a>
            <ul id="ui-toc" class="ui-toc-dropdown dropdown-menu" aria-labelledby="tocLabel">
                <div class="toc"><ul class="nav">
<li class=""><a href="#Lab---Graph-databases-MemgraphNeo4j" title="Lab - Graph databases (Memgraph/Neo4j)">Lab - Graph databases (Memgraph/Neo4j)</a></li>
<li><a href="#Dataset" title="Dataset">Dataset</a></li>
<li><a href="#Agenda" title="Agenda">Agenda</a></li>
<li><a href="#Graph-databases" title="Graph databases">Graph databases</a><ul class="nav">
<li><a href="#Download-and-Install-Memgraph" title="Download and Install Memgraph">Download and Install Memgraph</a></li>
<li><a href="#Download-and-Install-Neo4j" title="Download and Install Neo4j">Download and Install Neo4j</a><ul class="nav">
<li><a href="#Using-Docker" title="Using Docker">Using Docker</a></li>
<li><a href="#Without-Docker" title="Without Docker">Without Docker</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Cypher" title="Cypher">Cypher</a><ul class="nav">
<li><a href="#Property-types" title="Property types">Property types</a></li>
<li><a href="#Structural-types" title="Structural types">Structural types</a></li>
<li><a href="#Composite-types" title="Composite types">Composite types</a></li>
<li><a href="#How-to-define-a-variable" title="How to define a variable">How to define a variable</a></li>
<li><a href="#Operators" title="Operators">Operators</a><ul class="nav">
<li><a href="#DISTINCT-aggregation-operator" title="DISTINCT (aggregation operator)">DISTINCT (aggregation operator)</a></li>
<li><a href="#Property-operators" title="Property operators">Property operators</a></li>
<li><a href="#Mathemtical-operators" title="Mathemtical operators">Mathemtical operators</a></li>
<li><a href="#Comparison-operators" title="Comparison operators">Comparison operators</a></li>
<li><a href="#Boolean-operators" title="Boolean operators">Boolean operators</a></li>
<li><a href="#String-operators" title="String operators">String operators</a></li>
</ul>
</li>
<li><a href="#Patterns" title="Patterns">Patterns</a><ul class="nav">
<li><a href="#Patterns-for-nodes" title="Patterns for nodes">Patterns for nodes</a></li>
<li><a href="#Patterns-for-related-nodes" title="Patterns for related nodes">Patterns for related nodes</a></li>
<li><a href="#Patterns-for-labels" title="Patterns for labels">Patterns for labels</a></li>
<li><a href="#Specifying-properties" title="Specifying properties">Specifying properties</a></li>
<li><a href="#Patterns-for-relationships" title="Patterns for relationships">Patterns for relationships</a></li>
<li><a href="#Variable-length-pattern-matching" title="Variable-length pattern matching">Variable-length pattern matching</a></li>
<li><a href="#Assigning-to-path-variables" title="Assigning to path variables">Assigning to path variables</a></li>
</ul>
</li>
<li><a href="#Building-the-database-and-importing-dataset-files" title="Building the database and importing dataset files">Building the database and importing dataset files</a><ul class="nav">
<li><a href="#Using-Neo4j-Desktop" title="Using Neo4j Desktop">Using Neo4j Desktop</a></li>
<li><a href="#Using-Neo4j-installed-via-Docker" title="Using Neo4j installed via Docker">Using Neo4j installed via Docker</a></li>
<li><a href="#Using-Memgraph-installed-via-Docker" title="Using Memgraph installed via Docker">Using Memgraph installed via Docker</a></li>
<li><a href="#Data-loading-and-creating-nodesrelationships" title="Data loading and creating nodes/relationships">Data loading and creating nodes/relationships</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Data-Retrieval-with-Cypher" title="Data Retrieval with Cypher">Data Retrieval with Cypher</a></li>
</ul>
</div><div class="toc-menu" style="">
    <a class="expand-toggle expand-all" href="#">Expand all</a>
    <a class="expand-toggle collapse-all" href="#" style="display: none;">Collapse all</a>
    <a class="back-to-top" href="#">Back to top</a>
    <a class="go-to-bottom" href="#">Go to bottom</a>
</div>
            </ul>
        </div>
    </div>
    <div id="ui-toc-affix" class="ui-affix-toc ui-toc-dropdown unselectable hidden-print" data-spy="affix" style="top:17px;display:none;"  >
        <div class="toc"><ul class="nav">
<li class=""><a href="#Lab---Graph-databases-MemgraphNeo4j" title="Lab - Graph databases (Memgraph/Neo4j)">Lab - Graph databases (Memgraph/Neo4j)</a></li>
<li><a href="#Dataset" title="Dataset">Dataset</a></li>
<li><a href="#Agenda" title="Agenda">Agenda</a></li>
<li><a href="#Graph-databases" title="Graph databases">Graph databases</a><ul class="nav">
<li><a href="#Download-and-Install-Memgraph" title="Download and Install Memgraph">Download and Install Memgraph</a></li>
<li><a href="#Download-and-Install-Neo4j" title="Download and Install Neo4j">Download and Install Neo4j</a><ul class="nav">
<li><a href="#Using-Docker" title="Using Docker">Using Docker</a></li>
<li><a href="#Without-Docker" title="Without Docker">Without Docker</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Cypher" title="Cypher">Cypher</a><ul class="nav">
<li><a href="#Property-types" title="Property types">Property types</a></li>
<li><a href="#Structural-types" title="Structural types">Structural types</a></li>
<li><a href="#Composite-types" title="Composite types">Composite types</a></li>
<li><a href="#How-to-define-a-variable" title="How to define a variable">How to define a variable</a></li>
<li><a href="#Operators" title="Operators">Operators</a><ul class="nav">
<li><a href="#DISTINCT-aggregation-operator" title="DISTINCT (aggregation operator)">DISTINCT (aggregation operator)</a></li>
<li><a href="#Property-operators" title="Property operators">Property operators</a></li>
<li><a href="#Mathemtical-operators" title="Mathemtical operators">Mathemtical operators</a></li>
<li><a href="#Comparison-operators" title="Comparison operators">Comparison operators</a></li>
<li><a href="#Boolean-operators" title="Boolean operators">Boolean operators</a></li>
<li><a href="#String-operators" title="String operators">String operators</a></li>
</ul>
</li>
<li><a href="#Patterns" title="Patterns">Patterns</a><ul class="nav">
<li><a href="#Patterns-for-nodes" title="Patterns for nodes">Patterns for nodes</a></li>
<li><a href="#Patterns-for-related-nodes" title="Patterns for related nodes">Patterns for related nodes</a></li>
<li><a href="#Patterns-for-labels" title="Patterns for labels">Patterns for labels</a></li>
<li><a href="#Specifying-properties" title="Specifying properties">Specifying properties</a></li>
<li><a href="#Patterns-for-relationships" title="Patterns for relationships">Patterns for relationships</a></li>
<li><a href="#Variable-length-pattern-matching" title="Variable-length pattern matching">Variable-length pattern matching</a></li>
<li><a href="#Assigning-to-path-variables" title="Assigning to path variables">Assigning to path variables</a></li>
</ul>
</li>
<li><a href="#Building-the-database-and-importing-dataset-files" title="Building the database and importing dataset files">Building the database and importing dataset files</a><ul class="nav">
<li><a href="#Using-Neo4j-Desktop" title="Using Neo4j Desktop">Using Neo4j Desktop</a></li>
<li><a href="#Using-Neo4j-installed-via-Docker" title="Using Neo4j installed via Docker">Using Neo4j installed via Docker</a></li>
<li><a href="#Using-Memgraph-installed-via-Docker" title="Using Memgraph installed via Docker">Using Memgraph installed via Docker</a></li>
<li><a href="#Data-loading-and-creating-nodesrelationships" title="Data loading and creating nodes/relationships">Data loading and creating nodes/relationships</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Data-Retrieval-with-Cypher" title="Data Retrieval with Cypher">Data Retrieval with Cypher</a></li>
</ul>
</div><div class="toc-menu" style="">
    <a class="expand-toggle expand-all" href="#">Expand all</a>
    <a class="expand-toggle collapse-all" href="#" style="display: none;">Collapse all</a>
    <a class="back-to-top" href="#">Back to top</a>
    <a class="go-to-bottom" href="#">Go to bottom</a>
</div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.0/js/bootstrap.min.js" integrity="sha256-kJrlY+s09+QoWjpkOrXXwhxeaoDz9FW5SaxF8I0DibQ=" crossorigin="anonymous" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gist-embed/2.6.0/gist-embed.min.js" integrity="sha256-KyF2D6xPIJUW5sUDSs93vWyZm+1RzIpKCexxElmxl8g=" crossorigin="anonymous" defer></script>
    <script>
        var markdown = $(".markdown-body");
        //smooth all hash trigger scrolling
        function smoothHashScroll() {
            var hashElements = $("a[href^='#']").toArray();
            for (var i = 0; i < hashElements.length; i++) {
                var element = hashElements[i];
                var $element = $(element);
                var hash = element.hash;
                if (hash) {
                    $element.on('click', function (e) {
                        // store hash
                        var hash = this.hash;
                        if ($(hash).length <= 0) return;
                        // prevent default anchor click behavior
                        e.preventDefault();
                        // animate
                        $('body, html').stop(true, true).animate({
                            scrollTop: $(hash).offset().top
                        }, 100, "linear", function () {
                            // when done, add hash to url
                            // (default click behaviour)
                            window.location.hash = hash;
                        });
                    });
                }
            }
        }

        smoothHashScroll();
        var toc = $('.ui-toc');
        var tocAffix = $('.ui-affix-toc');
        var tocDropdown = $('.ui-toc-dropdown');
        //toc
        tocDropdown.click(function (e) {
            e.stopPropagation();
        });

        var enoughForAffixToc = true;

        function generateScrollspy() {
            $(document.body).scrollspy({
                target: ''
            });
            $(document.body).scrollspy('refresh');
            if (enoughForAffixToc) {
                toc.hide();
                tocAffix.show();
            } else {
                tocAffix.hide();
                toc.show();
            }
            $(document.body).scroll();
        }

        function windowResize() {
            //toc right
            var paddingRight = parseFloat(markdown.css('padding-right'));
            var right = ($(window).width() - (markdown.offset().left + markdown.outerWidth() - paddingRight));
            toc.css('right', right + 'px');
            //affix toc left
            var newbool;
            var rightMargin = (markdown.parent().outerWidth() - markdown.outerWidth()) / 2;
            //for ipad or wider device
            if (rightMargin >= 133) {
                newbool = true;
                var affixLeftMargin = (tocAffix.outerWidth() - tocAffix.width()) / 2;
                var left = markdown.offset().left + markdown.outerWidth() - affixLeftMargin;
                tocAffix.css('left', left + 'px');
            } else {
                newbool = false;
            }
            if (newbool != enoughForAffixToc) {
                enoughForAffixToc = newbool;
                generateScrollspy();
            }
        }
        $(window).resize(function () {
            windowResize();
        });
        $(document).ready(function () {
            windowResize();
            generateScrollspy();
        });

        //remove hash
        function removeHash() {
            window.location.hash = '';
        }

        var backtotop = $('.back-to-top');
        var gotobottom = $('.go-to-bottom');

        backtotop.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            if (scrollToTop)
                scrollToTop();
            removeHash();
        });
        gotobottom.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            if (scrollToBottom)
                scrollToBottom();
            removeHash();
        });

        var toggle = $('.expand-toggle');
        var tocExpand = false;

        checkExpandToggle();
        toggle.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            tocExpand = !tocExpand;
            checkExpandToggle();
        })

        function checkExpandToggle () {
            var toc = $('.ui-toc-dropdown .toc');
            var toggle = $('.expand-toggle');
            if (!tocExpand) {
                toc.removeClass('expand');
                toggle.text('Expand all');
            } else {
                toc.addClass('expand');
                toggle.text('Collapse all');
            }
        }

        function scrollToTop() {
            $('body, html').stop(true, true).animate({
                scrollTop: 0
            }, 100, "linear");
        }

        function scrollToBottom() {
            $('body, html').stop(true, true).animate({
                scrollTop: $(document.body)[0].scrollHeight
            }, 100, "linear");
        }
    </script>
</body>

</html>
